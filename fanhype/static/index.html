<!doctype html>
<html class="no-js" lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <script type="text/javascript" charset="utf-8" src='/static/js/raphael.js'></script>
  <script type="text/javascript" charset="utf-8" src='/static/js/raphael.scale.js'></script>
  <script type="text/javascript" charset="utf-8" src='/static/js/g.raphael.js'></script>
  <script type="text/javascript" charset="utf-8" src='/static/js/usmap.js'></script>
  <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.0.2/css/bootstrap.min.css">  
</head>



<body>

  <nav class="navbar navbar-default" role="navigation">
    <div class="navbar-header">
      <a class="navbar-brand" href="#">Tweet Topology</a>
      <ul class="nav navbar-nav">
        <li><a>Jeezy</a></li>
        <li><a>Wheezy</a></li>
        <li><a>Breezy</a></li>
      </ul>
    </div>
  </nav>

  <div id="plot-map-container"></div>

  <script type="text/javascript" charset="utf-8">
    var map, paper, pageWidth=800;

    var drawIt = function() {
      paper = new ScaleRaphael('plot-map-container', 950, 650);
      map = paper.USMap();
      paper.scaleAll(pageWidth/map.width);
    };

    window.onload = function(){
      drawIt();
    };

    var mapNewTweet = function(tweets){

      for(i=0; i<tweets.length; i++)
      {
        if(tweets[i].coordinates != null)
        {
          var lat = tweets[i].coordinates.coordinates[0];
          var lon = tweets[i].coordinates.coordinates[1];
          var screen_name = tweets[i].user.screen_name;

          map.plot(lon, lat, screen_name);
          //map.darkenState("tx", 0.07);
        }
      }
    }


  </script>

<script id="alert_template" type="text/template">
  <div class="alert">
    <button class="close" data-dismiss="alert">Ã—</button>
    <strong>Error!</strong><p><%- error %></p>
  </div>
</script>

<script id="tweet_template" type="text/template">
  <div class="tweet">
    <a href="https://twitter.com/<%- t.user.screen_name %>/status/<%- t.id %>" class="orig_tweet">original</a>
    <img class="profile" src="<%- t.user.profile_image_url_https %>" width="48" height="48" />

    <div class="user_info">
      <p>
        <%- t.user.name %>
        <% for(var x=0;t.stars && x<t.stars;x++) { %>
          <img class="star" src="/static/img/star.png" width="18" height="18" />
        <% } %>
      </p>
      <a href="https://twitter.com/<%- t.user.screen_name %>">@<%- t.user.screen_name %></a>
    </div>

    <p class="body">
      <% if (t.sentiment==="positive") { %>
        <img class="sentiment" src="/static/img/plus.png" width="18" height="18" />
      <% } else if (t.sentiment==="negative") { %>
        <img class="sentiment" src="/static/img/minus.png" width="18" height="18" />
      <% } %>
      <%- t.text %>
    </p>
  </div>
</script>

<script id="result_template" type="text/template">
  <p class="result_message">
    Found <%- count %> tweets in <%- time.toFixed(3) %> seconds.
  </p>
</script>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="/static/js/libs/jquery-1.7.2.min.js"><\/script>')</script>
<script src="/static/js/libs/underscore-min.js"></script>
<script src="/static/js/script.js"></script>
</body>
</html>
